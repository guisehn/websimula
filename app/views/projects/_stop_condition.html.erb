<h2>Condição de parada</h2>

<% if @project.stop_condition %>
  <condition-field
    :read-only="true"
    :value="<%= @project.stop_condition.to_json %>"
    :agents="<%= @project.agents.to_json %>"
    :variables="<%= @project.agents.to_json %>"
    :function-types="['condition']"></condition-field>

  <br>
<% else %>
  <p>Sem condição de parada (a simulação irá executar ininterruptamente).</p>
<% end %>

<% if @project.can_be_edited_by?(current_user) %>
  <%= link_to 'Definir condição', edit_stop_condition_project_path(@project), class: 'btn btn-sm btn-success' + (@project.agents.count == 0 && @project.variables.count == 0 ? ' disabled' : '') %>
<% end %>
